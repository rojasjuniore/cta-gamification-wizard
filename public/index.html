<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTA+ GAMIFICATION WIZARD</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'cta-orange': '#F45325',
                        'cta-dark': '#1A1A2E',
                        'achiever': '#FFD700',
                        'explorer': '#00CED1',
                        'socializer': '#FF69B4',
                        'killer': '#DC143C'
                    },
                    fontFamily: {
                        'archivo': ['Archivo Black', 'sans-serif'],
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style>
        * { border-radius: 0 !important; }
        body { font-family: 'Inter', sans-serif; background: #000; color: #fff; overflow-x: hidden; }
        
        .loading-screen { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.5s, visibility 0.5s; }
        .loading-screen.hidden { opacity: 0; visibility: hidden; }
        .loading-text { font-family: 'Archivo Black'; font-size: 0.9rem; letter-spacing: 0.3em; color: #F45325; animation: pulse 0.5s infinite alternate; }
        .loading-counter { font-family: 'Archivo Black'; font-size: 15vw; line-height: 1; }
        .loading-bar { width: 200px; height: 3px; background: rgba(255,255,255,0.1); margin-top: 2rem; }
        .loading-bar-fill { height: 100%; background: #F45325; transition: width 0.1s; }
        @keyframes pulse { from { opacity: 0.5; } to { opacity: 1; } }
        
        .noise { position: fixed; inset: 0; pointer-events: none; z-index: 9998; opacity: 0.03; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); }
        .scanlines { position: fixed; inset: 0; pointer-events: none; z-index: 9997; background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1) 0px, rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px); opacity: 0.3; }
        .grid-overlay { position: fixed; inset: 0; pointer-events: none; z-index: 1; background-image: linear-gradient(rgba(244,83,37,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(244,83,37,0.03) 1px, transparent 1px); background-size: 50px 50px; }
        
        .marquee-container { overflow: hidden; border-top: 2px solid rgba(255,255,255,0.1); border-bottom: 2px solid rgba(255,255,255,0.1); padding: 1rem 0; background: rgba(244,83,37,0.05); }
        .marquee { display: flex; animation: marquee 20s linear infinite; }
        .marquee-content { display: flex; flex-shrink: 0; }
        .marquee-item { font-family: 'Archivo Black'; font-size: 1.2rem; color: rgba(255,255,255,0.5); white-space: nowrap; padding: 0 2rem; text-transform: uppercase; letter-spacing: 0.2em; }
        .marquee-item span { color: #F45325; }
        @keyframes marquee { from { transform: translateX(0); } to { transform: translateX(-50%); } }
        
        .title-main { font-family: 'Archivo Black'; font-size: clamp(2rem, 8vw, 4rem); line-height: 1; letter-spacing: -0.02em; text-transform: uppercase; }
        .title-orange { color: #F45325; }
        
        .card-brutal { position: relative; border: 3px solid rgba(255,255,255,0.2); transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .card-brutal::before { content: ''; position: absolute; top: -10px; right: -10px; width: 100%; height: 100%; border: 1px solid rgba(244,83,37,0.3); z-index: -1; transition: all 0.3s; }
        .card-brutal:hover { border-color: #F45325; transform: translate(-5px, -5px); }
        .card-brutal:hover::before { top: 10px; right: -20px; border-color: #F45325; }
        .card-brutal.selected { border-color: #F45325; background: rgba(244,83,37,0.1); }
        .number-giant { font-family: 'Archivo Black'; font-size: 6rem; line-height: 1; color: transparent; -webkit-text-stroke: 2px rgba(255,255,255,0.1); position: absolute; top: -15px; right: -5px; z-index: 0; transition: all 0.4s; }
        .card-brutal:hover .number-giant { -webkit-text-stroke-color: rgba(244,83,37,0.3); transform: scale(1.1); }
        
        .bartle-option { border: 2px solid rgba(255,255,255,0.1); padding: 1.5rem; transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); position: relative; overflow: hidden; }
        .bartle-option::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 0; transition: height 0.3s; }
        .bartle-option:hover { transform: translateX(8px); }
        .bartle-option:hover::before { height: 100%; }
        .bartle-option.selected { transform: translateX(8px); }
        .bartle-option.selected::before { height: 100%; }
        .bartle-option[data-type="achiever"]::before { background: #FFD700; }
        .bartle-option[data-type="explorer"]::before { background: #00CED1; }
        .bartle-option[data-type="socializer"]::before { background: #FF69B4; }
        .bartle-option[data-type="killer"]::before { background: #DC143C; }
        .bartle-option.selected[data-type="achiever"] { border-color: #FFD700; background: rgba(255,215,0,0.1); }
        .bartle-option.selected[data-type="explorer"] { border-color: #00CED1; background: rgba(0,206,209,0.1); }
        .bartle-option.selected[data-type="socializer"] { border-color: #FF69B4; background: rgba(255,105,180,0.1); }
        .bartle-option.selected[data-type="killer"] { border-color: #DC143C; background: rgba(220,20,60,0.1); }
        
        .radar-container { width: 300px; height: 300px; position: relative; margin: 0 auto; }
        .radar-bg { position: absolute; inset: 0; border: 2px solid rgba(255,255,255,0.1); }
        .radar-line { position: absolute; background: rgba(255,255,255,0.05); }
        .radar-line.h { width: 100%; height: 1px; top: 50%; }
        .radar-line.v { height: 100%; width: 1px; left: 50%; }
        .radar-point { position: absolute; width: 12px; height: 12px; border-radius: 50% !important; transform: translate(-50%, -50%); transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .radar-label { position: absolute; font-family: 'Archivo Black'; font-size: 0.7rem; letter-spacing: 0.1em; transform: translate(-50%, -50%); }
        .radar-shape { position: absolute; inset: 0; }
        
        .btn-brutal { position: relative; background: #F45325; color: #fff; padding: 1.5rem 3rem; font-family: 'Archivo Black'; font-size: 1rem; letter-spacing: 0.1em; border: 3px solid #F45325; transition: all 0.3s; overflow: hidden; }
        .btn-brutal:hover { background: transparent; color: #F45325; transform: skewX(-5deg); }
        .btn-brutal:disabled { opacity: 0.3; transform: none; }
        .btn-ghost { background: transparent; color: #fff; padding: 1.5rem 3rem; font-weight: 600; letter-spacing: 0.1em; border: 2px solid rgba(255,255,255,0.2); transition: all 0.3s; }
        .btn-ghost:hover { border-color: #fff; transform: skewX(5deg); }
        
        .option-brutal { border: 2px solid rgba(255,255,255,0.1); padding: 1.25rem; text-align: left; transition: all 0.3s; position: relative; overflow: hidden; }
        .option-brutal::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 0; background: #F45325; transition: height 0.3s; }
        .option-brutal:hover { border-color: rgba(244,83,37,0.5); padding-left: 2rem; }
        .option-brutal:hover::before { height: 100%; }
        .option-brutal.selected { border-color: #F45325; background: rgba(244,83,37,0.15); padding-left: 2rem; }
        .option-brutal.selected::before { height: 100%; }
        
        input[type="number"], input[type="text"] { background: transparent; border: none; border-bottom: 3px solid rgba(255,255,255,0.2); color: #fff; font-family: 'Archivo Black'; font-size: 1.5rem; padding: 1rem 0; width: 100%; outline: none; transition: all 0.3s; }
        input:focus { border-bottom-color: #F45325; }
        input::placeholder { color: rgba(255,255,255,0.2); font-family: 'Inter'; font-size: 1rem; }
        
        .progress-brutal { height: 4px; background: rgba(255,255,255,0.05); position: relative; overflow: hidden; }
        .progress-brutal-fill { height: 100%; background: #F45325; transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        
        .step { position: relative; }
        .step-hidden { display: none; }
        .transition-wipe { position: fixed; inset: 0; background: #F45325; z-index: 9999; transform: translateY(100%); transition: transform 0.5s cubic-bezier(0.85, 0, 0.15, 1); }
        .transition-wipe.active { transform: translateY(0); }
        .transition-wipe.exit { transform: translateY(-100%); }
        
        @keyframes revealUp { from { opacity: 0; transform: translateY(100px) skewY(5deg); } to { opacity: 1; transform: translateY(0) skewY(0); } }
        .animate-reveal { opacity: 0; animation: revealUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .delay-1 { animation-delay: 0.1s; } .delay-2 { animation-delay: 0.2s; } .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; } .delay-5 { animation-delay: 0.5s; } .delay-6 { animation-delay: 0.6s; }
        
        .result-brutal { border: 3px solid rgba(255,255,255,0.1); padding: 2rem; position: relative; opacity: 0; transform: translateY(50px); }
        .result-brutal.visible { animation: revealUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .result-brutal::before { content: attr(data-section); position: absolute; top: -12px; left: 20px; background: #000; padding: 0 10px; font-size: 0.7rem; letter-spacing: 0.2em; color: #F45325; text-transform: uppercase; }
        
        .table-brutal { width: 100%; }
        .table-brutal th { text-align: left; padding: 1rem 0; border-bottom: 3px solid rgba(255,255,255,0.1); font-family: 'Archivo Black'; font-size: 0.8rem; letter-spacing: 0.1em; color: rgba(255,255,255,0.5); }
        .table-brutal td { padding: 1rem 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .points-value { font-family: 'Archivo Black'; font-size: 1.25rem; color: #F45325; }
        
        .profile-badge { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 2px solid; font-family: 'Archivo Black'; font-size: 0.8rem; letter-spacing: 0.1em; }
        .profile-badge.achiever { border-color: #FFD700; color: #FFD700; }
        .profile-badge.explorer { border-color: #00CED1; color: #00CED1; }
        .profile-badge.socializer { border-color: #FF69B4; color: #FF69B4; }
        .profile-badge.killer { border-color: #DC143C; color: #DC143C; }
    </style>
</head>
<body>
    <!-- Cargando -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">INICIANDO PROTOCOLO DE GAMIFICACION</div>
        <div class="loading-counter" id="loadingCounter">0</div>
        <div class="loading-bar"><div class="loading-bar-fill" id="loadingBarFill"></div></div>
    </div>
    
    <div class="transition-wipe" id="transitionWipe"></div>
    <div class="noise"></div>
    <div class="scanlines"></div>
    <div class="grid-overlay"></div>
    
    <div class="fixed inset-0 z-0">
        <img src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=2072" alt="" class="w-full h-full object-cover opacity-10">
    </div>
    
    <div class="relative z-10 min-h-screen flex flex-col">
        
        <header class="border-b-2 border-white/10 p-6">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <img src="https://calltoactionplus.com/wp-content/uploads/2024/01/logo-cta-plus-white.png" alt="CTA+" class="h-6">
                <div class="text-xs tracking-[0.3em] text-white/30">WIZARD DE GAMIFICACION</div>
            </div>
        </header>
        
        <div class="progress-brutal">
            <div class="progress-brutal-fill" id="progressBar" style="width: 25%"></div>
        </div>
        
        <div class="marquee-container">
            <div class="marquee">
                <div class="marquee-content">
                    <span class="marquee-item">GAMIFICACION <span>+</span></span>
                    <span class="marquee-item">ESTRATEGIA <span>+</span></span>
                    <span class="marquee-item">TEST BARTLE <span>+</span></span>
                    <span class="marquee-item">ENGAGEMENT <span>+</span></span>
                    <span class="marquee-item">RESULTADOS <span>+</span></span>
                </div>
                <div class="marquee-content">
                    <span class="marquee-item">GAMIFICACION <span>+</span></span>
                    <span class="marquee-item">ESTRATEGIA <span>+</span></span>
                    <span class="marquee-item">TEST BARTLE <span>+</span></span>
                    <span class="marquee-item">ENGAGEMENT <span>+</span></span>
                    <span class="marquee-item">RESULTADOS <span>+</span></span>
                </div>
            </div>
        </div>
        
        <main class="flex-1 py-16 px-6">
            <div class="max-w-6xl mx-auto">
                
                <!-- PASO 1: Categoria -->
                <div id="step1" class="step">
                    <h1 class="title-main animate-reveal">SELECCIONA</h1>
                    <h1 class="title-main title-orange animate-reveal delay-1">CATEGORIA</h1>
                    <p class="text-white/40 text-lg my-12 max-w-xl animate-reveal delay-2">Elige el tipo de gamificacion que mejor se adapta a las necesidades de tu empresa.</p>
                    
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="card-brutal p-8 animate-reveal delay-3" data-category="empresarial" onclick="selectCategory('empresarial')">
                            <div class="number-giant">01</div>
                            <div class="relative z-10">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-4">CATEGORIA_01</div>
                                <h3 class="font-archivo text-2xl mb-4">EMPRESARIAL</h3>
                                <p class="text-white/40 text-sm">Cultura, productividad, engagement</p>
                            </div>
                        </div>
                        <div class="card-brutal p-8 animate-reveal delay-4" data-category="ventas" onclick="selectCategory('ventas')">
                            <div class="number-giant">02</div>
                            <div class="relative z-10">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-4">CATEGORIA_02</div>
                                <h3 class="font-archivo text-2xl mb-4">VENTAS</h3>
                                <p class="text-white/40 text-sm">Metas, incentivos, competencia</p>
                            </div>
                        </div>
                        <div class="card-brutal p-8 animate-reveal delay-5" data-category="equipos" onclick="selectCategory('equipos')">
                            <div class="number-giant">03</div>
                            <div class="relative z-10">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-4">CATEGORIA_03</div>
                                <h3 class="font-archivo text-2xl mb-4">EQUIPOS</h3>
                                <p class="text-white/40 text-sm">Team building, cohesion</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-16 flex justify-end animate-reveal delay-6">
                        <button class="btn-brutal" id="btnStep1" onclick="goToStep(2)" disabled>CONTINUAR</button>
                    </div>
                </div>
                
                <!-- PASO 2: Test Bartle -->
                <div id="step2" class="step step-hidden">
                    <h1 class="title-main">PERFIL DE</h1>
                    <h1 class="title-main title-orange">JUGADOR</h1>
                    <p class="text-white/40 text-lg my-12 max-w-xl">Responde 6 preguntas rapidas para identificar el perfil de jugador de tu equipo basado en la Taxonomia de Bartle.</p>
                    
                    <div id="bartleContainer" class="space-y-8"></div>
                    
                    <div class="mt-16 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(1)">ATRAS</button>
                        <button class="btn-brutal" id="btnStep2" onclick="goToStep(3)" disabled>VER PERFIL</button>
                    </div>
                </div>
                
                <!-- PASO 3: Resultados Perfil -->
                <div id="step3" class="step step-hidden">
                    <h1 class="title-main">PERFIL DEL</h1>
                    <h1 class="title-main title-orange">EQUIPO</h1>
                    
                    <div class="grid md:grid-cols-2 gap-12 my-12">
                        <div class="flex flex-col items-center justify-center">
                            <div class="radar-container">
                                <div class="radar-bg"></div>
                                <div class="radar-line h"></div>
                                <div class="radar-line v"></div>
                                <svg class="radar-shape" viewBox="0 0 300 300" id="radarShape">
                                    <polygon points="150,150 150,150 150,150 150,150" fill="rgba(244,83,37,0.2)" stroke="#F45325" stroke-width="2" id="radarPolygon"/>
                                </svg>
                                <div class="radar-point bg-achiever" id="pointAchiever" style="top:50%;left:50%;"></div>
                                <div class="radar-point bg-explorer" id="pointExplorer" style="top:50%;left:50%;"></div>
                                <div class="radar-point bg-socializer" id="pointSocializer" style="top:50%;left:50%;"></div>
                                <div class="radar-point bg-killer" id="pointKiller" style="top:50%;left:50%;"></div>
                                <div class="radar-label text-achiever" style="top:5%;left:50%;">LOGRADOR</div>
                                <div class="radar-label text-explorer" style="top:50%;left:95%;">EXPLORADOR</div>
                                <div class="radar-label text-socializer" style="top:95%;left:50%;">SOCIALIZADOR</div>
                                <div class="radar-label text-killer" style="top:50%;left:5%;">COMPETIDOR</div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="mb-6">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-2">PERFIL DOMINANTE</div>
                                <div class="font-archivo text-4xl" id="dominantProfile">LOGRADOR</div>
                            </div>
                            <div class="space-y-4 mb-8" id="profileScores"></div>
                            <div class="border-l-4 border-cta-orange pl-6">
                                <p class="text-white/60" id="profileDescription">Tu equipo esta motivado por metas, logros y progreso visible.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-12 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(2)">REPETIR TEST</button>
                        <button class="btn-brutal" onclick="goToStep(4)">CONTINUAR AL DIAGNOSTICO</button>
                    </div>
                </div>
                
                <!-- PASO 4: Diagnostico -->
                <div id="step4" class="step step-hidden">
                    <h1 class="title-main">DIAGNOSTICO</h1>
                    <h1 class="title-main title-orange" id="categoryTitle">EMPRESARIAL</h1>
                    <p class="text-white/40 text-lg my-12 max-w-xl">Responde las siguientes preguntas para personalizar tu plan de gamificacion.</p>
                    
                    <div id="questionsContainer" class="space-y-8"></div>
                    
                    <div class="mt-16 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(3)">ATRAS</button>
                        <button class="btn-brutal" id="btnStep4" onclick="goToStep(5)" disabled>GENERAR PLAN</button>
                    </div>
                </div>
                
                <!-- PASO 5: Resultados -->
                <div id="step5" class="step step-hidden">
                    <h1 class="title-main">TU PLAN</h1>
                    <h1 class="title-main title-orange">GAMIFICADO</h1>
                    
                    <div id="resultsContainer" class="space-y-8 mt-12"></div>
                    
                    <div class="mt-16 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(4)">MODIFICAR</button>
                        <button class="btn-brutal" onclick="downloadPlan()">DESCARGAR PDF</button>
                    </div>
                </div>
                
            </div>
        </main>
        
        <footer class="border-t-2 border-white/10 p-6">
            <div class="max-w-7xl mx-auto flex items-center justify-between text-xs tracking-wider text-white/20">
                <span>2024 CTA+</span>
                <span>PROTOCOLO DE GAMIFICACION V4.0</span>
            </div>
        </footer>
    </div>

    <script>
        let loadProg = 0;
        function updateLoad() {
            if (loadProg < 100) {
                loadProg += Math.random() * 15;
                if (loadProg > 100) loadProg = 100;
                document.getElementById('loadingCounter').textContent = Math.floor(loadProg);
                document.getElementById('loadingBarFill').style.width = loadProg + '%';
                setTimeout(updateLoad, 100 + Math.random() * 200);
            } else {
                setTimeout(() => document.getElementById('loadingScreen').classList.add('hidden'), 500);
            }
        }
        setTimeout(updateLoad, 500);
        
        const bartleQuestions = [
            { q: "Que motiva mas a tu equipo?", options: [
                { text: "Completar metas y ganar recompensas", type: "achiever" },
                { text: "Aprender cosas nuevas y explorar", type: "explorer" },
                { text: "Colaborar y ayudar a otros", type: "socializer" },
                { text: "Competir y ganar contra otros", type: "killer" }
            ]},
            { q: "En un juego, tu equipo preferiria...", options: [
                { text: "Desbloquear todos los logros e insignias", type: "achiever" },
                { text: "Descubrir areas ocultas y secretos", type: "explorer" },
                { text: "Chatear y hacer amigos con otros jugadores", type: "socializer" },
                { text: "Subir en el ranking y vencer rivales", type: "killer" }
            ]},
            { q: "La mejor recompensa para tu equipo es...", options: [
                { text: "Puntos, insignias y progreso visible", type: "achiever" },
                { text: "Acceso a nuevo contenido o conocimiento", type: "explorer" },
                { text: "Reconocimiento de companeros y eventos de equipo", type: "socializer" },
                { text: "Premios solo para los mejores", type: "killer" }
            ]},
            { q: "Tu equipo se siente exitoso cuando...", options: [
                { text: "Completan todas las tareas de la lista", type: "achiever" },
                { text: "Aprenden algo nuevo cada dia", type: "explorer" },
                { text: "Todos estan felices y conectados", type: "socializer" },
                { text: "Superan a otros equipos", type: "killer" }
            ]},
            { q: "En desafios, tu equipo prefiere...", options: [
                { text: "Objetivos claros con metas medibles", type: "achiever" },
                { text: "Problemas abiertos para resolver", type: "explorer" },
                { text: "Actividades de equipo donde todos participan", type: "socializer" },
                { text: "Competencias directas uno contra uno", type: "killer" }
            ]},
            { q: "La energia de tu equipo viene de...", options: [
                { text: "Tachar cosas de la lista y subir de nivel", type: "achiever" },
                { text: "Curiosidad y nuevas experiencias", type: "explorer" },
                { text: "Interacciones positivas y trabajo en equipo", type: "socializer" },
                { text: "La emocion de ganar", type: "killer" }
            ]}
        ];
        
        const questions = {
            empresarial: [
                { id: 'E1', q: 'Cuantos empleados participaran?', type: 'number', ph: 'Ej: 50' },
                { id: 'E2', q: 'Cual es el problema principal?', type: 'single', opts: ['Alta rotacion', 'Baja productividad', 'Mal clima laboral', 'Falta de compromiso', 'Mala comunicacion'] },
                { id: 'E3', q: 'Que comportamientos quieren incentivar?', type: 'multi', opts: ['Puntualidad', 'Colaboracion', 'Iniciativa', 'Cumplimiento de metas', 'Innovacion', 'Aprendizaje'] },
                { id: 'E4', q: 'Presupuesto para recompensas?', type: 'single', opts: ['Sin presupuesto', '$1-$500 USD', '$500-$2000 USD', '+$2000 USD'] },
                { id: 'E5', q: 'En cuanto tiempo esperan resultados?', type: 'single', opts: ['1 mes', '3 meses', '6 meses', '1 ano'] }
            ],
            ventas: [
                { id: 'V1', q: 'Cuantos vendedores tienen?', type: 'number', ph: 'Ej: 15' },
                { id: 'V2', q: 'Cual es el ticket promedio?', type: 'number', ph: 'Ej: 500' },
                { id: 'V3', q: 'Que % de la meta mensual cumplen?', type: 'single', opts: ['Menos del 25%', '25-50%', '50-75%', '75-100%', 'Superamos (+100%)'] },
                { id: 'V4', q: 'Como compensan actualmente?', type: 'multi', opts: ['Salario fijo', 'Comision', 'Bonos', 'Premios', 'Reconocimiento'] },
                { id: 'V5', q: 'Que metrica quieren mejorar?', type: 'single', opts: ['Volumen', 'Ticket promedio', 'Retencion', 'Nuevos clientes', 'Upselling'] },
                { id: 'V6', q: 'Prefieren competir o colaborar?', type: 'single', opts: ['Competencia individual', 'Competencia por equipos', 'Colaboracion', 'No estoy seguro'] }
            ],
            equipos: [
                { id: 'Q1', q: 'Cuantas personas participaran?', type: 'number', ph: 'Ej: 30' },
                { id: 'Q2', q: 'Tipo de evento?', type: 'single', opts: ['Evento unico', 'Mensual', 'Trimestral', 'Anual'] },
                { id: 'Q3', q: 'Formato?', type: 'single', opts: ['Presencial', 'Virtual', 'Hibrido'] },
                { id: 'Q4', q: 'Objetivo principal?', type: 'single', opts: ['Integracion', 'Comunicacion', 'Resolver conflictos', 'Celebracion', 'Diversion'] },
                { id: 'Q5', q: 'Tiempo disponible?', type: 'single', opts: ['2 horas', '4 horas', 'Dia completo', 'Varios dias'] }
            ]
        };
        
        const profileNames = { achiever: 'LOGRADOR', explorer: 'EXPLORADOR', socializer: 'SOCIALIZADOR', killer: 'COMPETIDOR' };
        
        const profileDescriptions = {
            achiever: "Tu equipo esta motivado por metas, logros y progreso visible. Prosperan con puntos, insignias, tablas de clasificacion y objetivos claros.",
            explorer: "Tu equipo ama descubrir, aprender y encontrar nuevas formas de hacer las cosas. Se energizan con desafios, sorpresas y nuevos conocimientos.",
            socializer: "Tu equipo valora la conexion, colaboracion y ayudarse mutuamente. Rinden mejor con desafios de equipo, reconocimiento y actividades sociales.",
            killer: "Tu equipo esta impulsado por la competencia y ganar. Destacan con tablas de clasificacion, torneos, rankings y desafios directos."
        };
        
        let selectedCategory = null;
        let bartleAnswers = [];
        let bartleScores = { achiever: 0, explorer: 0, socializer: 0, killer: 0 };
        let answers = {};
        
        function selectCategory(cat) {
            selectedCategory = cat;
            document.querySelectorAll('.card-brutal').forEach(c => c.classList.remove('selected'));
            document.querySelector(`[data-category="${cat}"]`).classList.add('selected');
            document.getElementById('btnStep1').disabled = false;
        }
        
        function goToStep(step) {
            const wipe = document.getElementById('transitionWipe');
            wipe.classList.add('active');
            setTimeout(() => {
                document.querySelectorAll('.step').forEach(s => s.classList.add('step-hidden'));
                document.getElementById(`step${step}`).classList.remove('step-hidden');
                document.getElementById('progressBar').style.width = `${(step / 5) * 100}%`;
                if (step === 2) renderBartle();
                if (step === 3) renderProfile();
                if (step === 4) renderQuestions();
                if (step === 5) generateResults();
                wipe.classList.remove('active');
                wipe.classList.add('exit');
                setTimeout(() => wipe.classList.remove('exit'), 500);
                window.scrollTo({ top: 0, behavior: 'instant' });
            }, 500);
        }
        
        function renderBartle() {
            const container = document.getElementById('bartleContainer');
            bartleAnswers = [];
            bartleScores = { achiever: 0, explorer: 0, socializer: 0, killer: 0 };
            let html = '';
            bartleQuestions.forEach((bq, i) => {
                html += `<div class="border-3 border-white/10 p-8 animate-reveal delay-${i+1}" style="border-width:3px;">
                    <div class="flex items-start gap-6 mb-6">
                        <span class="font-archivo text-4xl text-cta-orange">${String(i+1).padStart(2,'0')}</span>
                        <h3 class="text-xl font-medium pt-2">${bq.q}</h3>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4 ml-16">
                        ${bq.options.map(opt => `<button class="bartle-option" data-type="${opt.type}" onclick="selectBartle(${i}, '${opt.type}', this)">${opt.text}</button>`).join('')}
                    </div>
                </div>`;
            });
            container.innerHTML = html;
            updateBartleBtn();
        }
        
        function selectBartle(qIndex, type, el) {
            el.parentElement.querySelectorAll('.bartle-option').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            bartleAnswers[qIndex] = type;
            updateBartleBtn();
        }
        
        function updateBartleBtn() {
            document.getElementById('btnStep2').disabled = bartleAnswers.filter(a => a).length < bartleQuestions.length;
        }
        
        function renderProfile() {
            bartleScores = { achiever: 0, explorer: 0, socializer: 0, killer: 0 };
            bartleAnswers.forEach(type => { if (type) bartleScores[type]++; });
            const total = bartleQuestions.length;
            const dominant = Object.entries(bartleScores).sort((a,b) => b[1] - a[1])[0][0];
            document.getElementById('dominantProfile').textContent = profileNames[dominant];
            document.getElementById('dominantProfile').className = `font-archivo text-4xl text-${dominant}`;
            document.getElementById('profileDescription').textContent = profileDescriptions[dominant];
            const scoresHtml = Object.entries(bartleScores).map(([type, score]) => {
                const pct = Math.round((score / total) * 100);
                return `<div class="flex items-center gap-4">
                    <span class="profile-badge ${type}">${profileNames[type]}</span>
                    <div class="flex-1 h-2 bg-white/10"><div class="h-full bg-${type}" style="width:${pct}%"></div></div>
                    <span class="font-archivo text-xl">${pct}%</span>
                </div>`;
            }).join('');
            document.getElementById('profileScores').innerHTML = scoresHtml;
            setTimeout(() => animateRadar(), 300);
        }
        
        function animateRadar() {
            const total = bartleQuestions.length, maxR = 130, c = 150;
            const aR = (bartleScores.achiever / total) * maxR;
            const eR = (bartleScores.explorer / total) * maxR;
            const sR = (bartleScores.socializer / total) * maxR;
            const kR = (bartleScores.killer / total) * maxR;
            document.getElementById('pointAchiever').style.top = `${((c - aR) / 300) * 100}%`;
            document.getElementById('pointAchiever').style.left = '50%';
            document.getElementById('pointExplorer').style.top = '50%';
            document.getElementById('pointExplorer').style.left = `${((c + eR) / 300) * 100}%`;
            document.getElementById('pointSocializer').style.top = `${((c + sR) / 300) * 100}%`;
            document.getElementById('pointSocializer').style.left = '50%';
            document.getElementById('pointKiller').style.top = '50%';
            document.getElementById('pointKiller').style.left = `${((c - kR) / 300) * 100}%`;
            document.getElementById('radarPolygon').setAttribute('points', `${c},${c - aR} ${c + eR},${c} ${c},${c + sR} ${c - kR},${c}`);
        }
        
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            const qs = questions[selectedCategory];
            document.getElementById('categoryTitle').textContent = selectedCategory.toUpperCase();
            let html = '';
            qs.forEach((q, i) => {
                html += `<div class="border-3 border-white/10 p-8 animate-reveal delay-${i+1}" style="border-width:3px;">
                    <div class="flex items-start gap-6 mb-6">
                        <span class="font-archivo text-4xl text-cta-orange">${String(i+1).padStart(2,'0')}</span>
                        <h3 class="text-xl font-medium pt-2">${q.q}</h3>
                    </div>
                    <div class="ml-16">${renderInput(q)}</div>
                </div>`;
            });
            container.innerHTML = html;
            answers = {};
            updateStep4Btn();
        }
        
        function renderInput(q) {
            if (q.type === 'number') return `<input type="number" id="${q.id}" placeholder="${q.ph}" onchange="updateAns('${q.id}', this.value)">`;
            if (q.type === 'single') return `<div class="grid md:grid-cols-2 gap-4">${q.opts.map(o => `<button class="option-brutal" onclick="selOpt('${q.id}','${o}',this)">${o}</button>`).join('')}</div>`;
            return `<div class="grid md:grid-cols-2 gap-4">${q.opts.map(o => `<button class="option-brutal" onclick="togMulti('${q.id}','${o}',this)">${o}</button>`).join('')}</div><p class="text-white/30 text-sm mt-4">Selecciona multiples</p>`;
        }
        
        function updateAns(id, v) { answers[id] = v; updateStep4Btn(); }
        function selOpt(id, v, el) {
            el.parentElement.querySelectorAll('.option-brutal').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            answers[id] = v;
            updateStep4Btn();
        }
        function togMulti(id, v, el) {
            el.classList.toggle('selected');
            if (!answers[id]) answers[id] = [];
            if (el.classList.contains('selected')) answers[id].push(v);
            else answers[id] = answers[id].filter(x => x !== v);
            updateStep4Btn();
        }
        function updateStep4Btn() {
            const req = questions[selectedCategory].length;
            const ans = Object.keys(answers).filter(k => answers[k] && (Array.isArray(answers[k]) ? answers[k].length > 0 : true)).length;
            document.getElementById('btnStep4').disabled = ans < req;
        }
        
        function generateResults() {
            const container = document.getElementById('resultsContainer');
            const dominant = Object.entries(bartleScores).sort((a,b) => b[1] - a[1])[0][0];
            container.innerHTML = `
                <div class="result-brutal" data-section="PERFIL DEL EQUIPO">
                    <div class="flex items-center gap-6 mb-6">
                        <span class="profile-badge ${dominant}">${profileNames[dominant]}</span>
                        <span class="text-white/40">Tipo de jugador dominante</span>
                    </div>
                    <p class="text-white/60">${profileDescriptions[dominant]}</p>
                </div>
                <div class="result-brutal" data-section="RESUMEN">
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="border-l-4 border-cta-orange pl-6">
                            <div class="text-white/30 text-sm mb-2">PARTICIPANTES</div>
                            <div class="font-archivo text-4xl">${getParticipants()}</div>
                        </div>
                        <div class="border-l-4 border-cta-orange pl-6">
                            <div class="text-white/30 text-sm mb-2">DURACION</div>
                            <div class="font-archivo text-4xl">${getDuration()}</div>
                        </div>
                        <div class="border-l-4 border-cta-orange pl-6">
                            <div class="text-white/30 text-sm mb-2">COMPLEJIDAD</div>
                            <div class="font-archivo text-4xl text-cta-orange">${getComplexity()}</div>
                        </div>
                    </div>
                </div>
                <div class="result-brutal" data-section="MECANICAS RECOMENDADAS">
                    <h3 class="font-archivo text-xl mb-6">Basado en perfil <span class="text-${dominant}">${profileNames[dominant]}</span></h3>
                    <div class="grid md:grid-cols-2 gap-4">${getMechanicsForProfile(dominant)}</div>
                </div>
                <div class="result-brutal" data-section="SISTEMA DE PUNTOS">
                    <h3 class="font-archivo text-xl mb-6">SISTEMA DE PUNTOS</h3>
                    <table class="table-brutal">
                        <thead><tr><th>ACCION</th><th class="text-right">PUNTOS</th></tr></thead>
                        <tbody>${getPointsTable()}</tbody>
                    </table>
                </div>
                <div class="result-brutal" data-section="RECOMPENSAS">
                    <h3 class="font-archivo text-xl mb-6">RECOMPENSAS SUGERIDAS</h3>
                    <div class="space-y-3">${getRewards(dominant)}</div>
                </div>
                <div class="border-4 border-cta-orange p-12 text-center">
                    <h3 class="font-archivo text-3xl mb-4">LISTO PARA IMPLEMENTAR?</h3>
                    <p class="text-white/40 mb-8">Agenda una sesion con nuestro equipo para llevar este plan a la realidad.</p>
                    <a href="https://calltoactionplus.com" target="_blank" class="btn-brutal inline-block">CONTACTAR CTA+</a>
                </div>`;
            setTimeout(() => { document.querySelectorAll('.result-brutal').forEach((el, i) => { setTimeout(() => el.classList.add('visible'), i * 150); }); }, 300);
        }
        
        function getParticipants() { return answers['E1'] || answers['V1'] || answers['Q1'] || 'N/A'; }
        function getDuration() { return answers['E5'] || answers['Q5'] || '3 meses'; }
        function getComplexity() { const p = parseInt(getParticipants()) || 0; return p < 20 ? 'BAJA' : p < 50 ? 'MEDIA' : 'ALTA'; }
        
        function getMechanicsForProfile(profile) {
            const mechanics = {
                achiever: [
                    { name: 'Sistema de Puntos', desc: 'Acumulacion clara de puntos por cada accion' },
                    { name: 'Coleccion de Insignias', desc: 'Logros desbloqueables por hitos' },
                    { name: 'Barras de Progreso', desc: 'Seguimiento visual de avance' },
                    { name: 'Niveles y XP', desc: 'Camino de progresion claro con recompensas' }
                ],
                explorer: [
                    { name: 'Sorpresas Ocultas', desc: 'Recompensas escondidas para los curiosos' },
                    { name: 'Desbloqueo de Conocimiento', desc: 'Nuevo contenido como premio' },
                    { name: 'Desafios Misteriosos', desc: 'Problemas abiertos para resolver' },
                    { name: 'Misiones de Descubrimiento', desc: 'Misiones basadas en exploracion' }
                ],
                socializer: [
                    { name: 'Desafios en Equipo', desc: 'Misiones grupales con recompensas compartidas' },
                    { name: 'Reconocimiento entre Pares', desc: 'Dar kudos a companeros' },
                    { name: 'Bonos por Colaboracion', desc: 'Puntos extra por ayudar a otros' },
                    { name: 'Eventos Sociales', desc: 'Actividades de equipo y celebraciones' }
                ],
                killer: [
                    { name: 'Tablas de Clasificacion', desc: 'Rankings competitivos en tiempo real' },
                    { name: 'Torneos', desc: 'Competencias semanales/mensuales' },
                    { name: 'Duelos Directos', desc: 'Desafios directos entre miembros' },
                    { name: 'El Ganador se Lleva Todo', desc: 'Premios premium para los mejores' }
                ]
            };
            return mechanics[profile].map(m => `<div class="border-2 border-white/10 p-4 hover:border-${profile} transition-colors">
                <div class="font-bold mb-2">${m.name}</div>
                <div class="text-white/40 text-sm">${m.desc}</div>
            </div>`).join('');
        }
        
        function getPointsTable() {
            const tables = {
                empresarial: [['Llegar puntual', 10], ['Completar tarea', 25], ['Ayudar a companero', 15], ['Proponer mejora', 100]],
                ventas: [['Llamada realizada', 5], ['Reunion agendada', 20], ['Propuesta enviada', 30], ['Venta cerrada', 100]],
                equipos: [['Participar', 10], ['Completar reto', 50], ['Ganar competencia', 100]]
            };
            return (tables[selectedCategory] || tables.empresarial).map(([a, p]) => `<tr><td>${a}</td><td class="text-right"><span class="points-value">+${p}</span></td></tr>`).join('');
        }
        
        function getRewards(profile) {
            const rewards = {
                achiever: ['Insignias exclusivas', 'Status premium', 'Dia libre extra', 'Bonos de regalo', 'Certificado de logro'],
                explorer: ['Cursos de aprendizaje', 'Entradas a conferencias', 'Presupuesto para libros', 'Acceso a lab de innovacion', 'Sesiones de mentoria'],
                socializer: ['Cena de equipo', 'Salida grupal', 'Reconocimiento publico', 'Presupuesto para fiesta', 'Organizar evento social'],
                killer: ['Trofeo al mejor', 'Cinturon de campeon', 'Estacionamiento premium', 'Almuerzo ejecutivo', 'Chaqueta de ganador']
            };
            return rewards[profile].map(r => `<div class="flex items-center gap-4 border-2 border-white/10 p-4 hover:border-cta-orange hover:translate-x-2 transition-all">
                <span class="text-cta-orange font-archivo">+</span>
                <span>${r}</span>
            </div>`).join('');
        }
        
        function downloadPlan() { alert('Descarga de PDF proximamente. Contacta a CTA+ para obtener tu plan completo.'); }
    </script>
</body>
</html>
