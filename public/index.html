<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTA+ GAMIFICATION WIZARD</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'cta-orange': '#F45325',
                        'cta-dark': '#1A1A2E',
                        'achiever': '#FFD700',
                        'explorer': '#00CED1',
                        'socializer': '#FF69B4',
                        'killer': '#DC143C'
                    },
                    fontFamily: {
                        'archivo': ['Archivo Black', 'sans-serif'],
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style>
        * { border-radius: 0 !important; cursor: none !important; }
        body { font-family: 'Inter', sans-serif; background: #000; color: #fff; overflow-x: hidden; }
        .font-archivo { font-family: 'Archivo Black', sans-serif; }
        
        /* Cursor */
        .cursor-main { position: fixed; width: 20px; height: 20px; pointer-events: none; z-index: 99999; mix-blend-mode: difference; }
        .cursor-main::before, .cursor-main::after { content: ''; position: absolute; background: #fff; }
        .cursor-main::before { width: 20px; height: 2px; top: 50%; left: 0; transform: translateY(-50%); }
        .cursor-main::after { width: 2px; height: 20px; left: 50%; top: 0; transform: translateX(-50%); }
        .cursor-dot { position: fixed; width: 8px; height: 8px; background: #F45325; pointer-events: none; z-index: 99998; transition: transform 0.1s; }
        .cursor-dot.clicking { transform: scale(3); opacity: 0.5; }
        
        /* Loading */
        .loading-screen { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.5s, visibility 0.5s; }
        .loading-screen.hidden { opacity: 0; visibility: hidden; }
        .loading-text { font-family: 'Archivo Black'; font-size: 1rem; letter-spacing: 0.5em; color: #F45325; animation: pulse 0.5s infinite alternate; }
        .loading-counter { font-family: 'Archivo Black'; font-size: 15vw; line-height: 1; }
        .loading-bar { width: 200px; height: 3px; background: rgba(255,255,255,0.1); margin-top: 2rem; }
        .loading-bar-fill { height: 100%; background: #F45325; transition: width 0.1s; }
        @keyframes pulse { from { opacity: 0.5; } to { opacity: 1; } }
        
        /* Effects */
        .noise { position: fixed; inset: 0; pointer-events: none; z-index: 9998; opacity: 0.03; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E"); }
        .scanlines { position: fixed; inset: 0; pointer-events: none; z-index: 9997; background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1) 0px, rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px); opacity: 0.3; }
        .grid-overlay { position: fixed; inset: 0; pointer-events: none; z-index: 1; background-image: linear-gradient(rgba(244,83,37,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(244,83,37,0.03) 1px, transparent 1px); background-size: 50px 50px; }
        .grid-coords { position: fixed; font-size: 10px; color: rgba(244,83,37,0.3); z-index: 2; letter-spacing: 0.1em; }
        .grid-coords.tl { top: 10px; left: 10px; }
        .grid-coords.br { bottom: 10px; right: 10px; }
        
        /* Marquee */
        .marquee-container { overflow: hidden; border-top: 2px solid rgba(255,255,255,0.1); border-bottom: 2px solid rgba(255,255,255,0.1); padding: 1rem 0; background: rgba(244,83,37,0.05); }
        .marquee { display: flex; animation: marquee 20s linear infinite; }
        .marquee-content { display: flex; flex-shrink: 0; }
        .marquee-item { font-family: 'Archivo Black'; font-size: 1.5rem; color: rgba(255,255,255,0.5); white-space: nowrap; padding: 0 2rem; text-transform: uppercase; letter-spacing: 0.2em; }
        .marquee-item span { color: #F45325; }
        @keyframes marquee { from { transform: translateX(0); } to { transform: translateX(-50%); } }
        
        /* Typography */
        .title-oversized { font-family: 'Archivo Black'; font-size: clamp(3rem, 15vw, 12rem); line-height: 0.85; letter-spacing: -0.03em; text-transform: uppercase; }
        .title-outline { -webkit-text-stroke: 2px #fff; color: transparent; }
        .title-orange { color: #F45325; }
        
        /* Glitch */
        .glitch { position: relative; }
        .glitch::before, .glitch::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .glitch::before { color: #0ff; animation: g1 0.3s infinite linear alternate-reverse; clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%); }
        .glitch::after { color: #f0f; animation: g2 0.3s infinite linear alternate-reverse; clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%); }
        @keyframes g1 { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(-3px); } }
        @keyframes g2 { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(3px); } }
        
        /* Cards */
        .card-brutal { position: relative; border: 3px solid rgba(255,255,255,0.2); transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .card-brutal::before { content: ''; position: absolute; top: -10px; right: -10px; width: 100%; height: 100%; border: 1px solid rgba(244,83,37,0.3); z-index: -1; transition: all 0.3s; }
        .card-brutal:hover { border-color: #F45325; transform: translate(-5px, -5px); }
        .card-brutal:hover::before { top: 10px; right: -20px; border-color: #F45325; }
        .card-brutal.selected { border-color: #F45325; background: rgba(244,83,37,0.1); }
        .number-giant { font-family: 'Archivo Black'; font-size: 6rem; line-height: 1; color: transparent; -webkit-text-stroke: 2px rgba(255,255,255,0.1); position: absolute; top: -15px; right: -5px; z-index: 0; transition: all 0.4s; }
        .card-brutal:hover .number-giant { -webkit-text-stroke-color: rgba(244,83,37,0.3); transform: scale(1.1); }
        
        /* Bartle Cards */
        .bartle-option { border: 2px solid rgba(255,255,255,0.1); padding: 1.5rem; transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); position: relative; overflow: hidden; }
        .bartle-option::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 0; transition: height 0.3s; }
        .bartle-option:hover { transform: translateX(8px); }
        .bartle-option:hover::before { height: 100%; }
        .bartle-option.selected { transform: translateX(8px); }
        .bartle-option.selected::before { height: 100%; }
        .bartle-option[data-type="achiever"]::before { background: #FFD700; }
        .bartle-option[data-type="explorer"]::before { background: #00CED1; }
        .bartle-option[data-type="socializer"]::before { background: #FF69B4; }
        .bartle-option[data-type="killer"]::before { background: #DC143C; }
        .bartle-option.selected[data-type="achiever"] { border-color: #FFD700; background: rgba(255,215,0,0.1); }
        .bartle-option.selected[data-type="explorer"] { border-color: #00CED1; background: rgba(0,206,209,0.1); }
        .bartle-option.selected[data-type="socializer"] { border-color: #FF69B4; background: rgba(255,105,180,0.1); }
        .bartle-option.selected[data-type="killer"] { border-color: #DC143C; background: rgba(220,20,60,0.1); }
        
        /* Bartle Radar */
        .radar-container { width: 300px; height: 300px; position: relative; margin: 0 auto; }
        .radar-bg { position: absolute; inset: 0; border: 2px solid rgba(255,255,255,0.1); }
        .radar-line { position: absolute; background: rgba(255,255,255,0.05); }
        .radar-line.h { width: 100%; height: 1px; top: 50%; }
        .radar-line.v { height: 100%; width: 1px; left: 50%; }
        .radar-point { position: absolute; width: 12px; height: 12px; border-radius: 50% !important; transform: translate(-50%, -50%); transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .radar-label { position: absolute; font-family: 'Archivo Black'; font-size: 0.7rem; letter-spacing: 0.1em; transform: translate(-50%, -50%); }
        .radar-value { position: absolute; font-family: 'Archivo Black'; font-size: 1.5rem; transform: translate(-50%, -50%); }
        .radar-shape { position: absolute; inset: 0; }
        
        /* Buttons */
        .btn-brutal { position: relative; background: #F45325; color: #fff; padding: 1.5rem 3rem; font-family: 'Archivo Black'; font-size: 1rem; letter-spacing: 0.1em; border: 3px solid #F45325; transition: all 0.3s; overflow: hidden; }
        .btn-brutal:hover { background: transparent; color: #F45325; transform: skewX(-5deg); }
        .btn-brutal:disabled { opacity: 0.3; transform: none; }
        .btn-ghost { background: transparent; color: #fff; padding: 1.5rem 3rem; font-weight: 600; letter-spacing: 0.1em; border: 2px solid rgba(255,255,255,0.2); transition: all 0.3s; }
        .btn-ghost:hover { border-color: #fff; transform: skewX(5deg); }
        
        /* Options */
        .option-brutal { border: 2px solid rgba(255,255,255,0.1); padding: 1.25rem; text-align: left; transition: all 0.3s; position: relative; overflow: hidden; }
        .option-brutal::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 0; background: #F45325; transition: height 0.3s; }
        .option-brutal:hover { border-color: rgba(244,83,37,0.5); padding-left: 2rem; }
        .option-brutal:hover::before { height: 100%; }
        .option-brutal.selected { border-color: #F45325; background: rgba(244,83,37,0.15); padding-left: 2rem; }
        .option-brutal.selected::before { height: 100%; }
        
        /* Inputs */
        input[type="number"], input[type="text"], input[type="email"], input[type="tel"] { background: transparent; border: none; border-bottom: 3px solid rgba(255,255,255,0.2); color: #fff; font-family: 'Archivo Black'; font-size: 1.5rem; padding: 1rem 0; width: 100%; outline: none; transition: all 0.3s; }
        input:focus { border-bottom-color: #F45325; }
        input::placeholder { color: rgba(255,255,255,0.2); font-family: 'Inter'; font-size: 1rem; }
        
        /* Progress */
        .progress-brutal { height: 4px; background: rgba(255,255,255,0.05); position: relative; overflow: hidden; }
        .progress-brutal-fill { height: 100%; background: #F45325; transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        
        /* Steps */
        .step { position: relative; }
        .step-hidden { display: none; }
        .transition-wipe { position: fixed; inset: 0; background: #F45325; z-index: 9999; transform: translateY(100%); transition: transform 0.5s cubic-bezier(0.85, 0, 0.15, 1); }
        .transition-wipe.active { transform: translateY(0); }
        .transition-wipe.exit { transform: translateY(-100%); }
        
        /* Animations */
        @keyframes revealUp { from { opacity: 0; transform: translateY(100px) skewY(5deg); } to { opacity: 1; transform: translateY(0) skewY(0); } }
        .animate-reveal { opacity: 0; animation: revealUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .delay-1 { animation-delay: 0.1s; } .delay-2 { animation-delay: 0.2s; } .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; } .delay-5 { animation-delay: 0.5s; } .delay-6 { animation-delay: 0.6s; }
        
        /* Results */
        .result-brutal { border: 3px solid rgba(255,255,255,0.1); padding: 2rem; position: relative; opacity: 0; transform: translateY(50px); }
        .result-brutal.visible { animation: revealUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .result-brutal::before { content: attr(data-section); position: absolute; top: -12px; left: 20px; background: #000; padding: 0 10px; font-size: 0.7rem; letter-spacing: 0.2em; color: #F45325; text-transform: uppercase; }
        
        /* Table */
        .table-brutal { width: 100%; }
        .table-brutal th { text-align: left; padding: 1rem 0; border-bottom: 3px solid rgba(255,255,255,0.1); font-family: 'Archivo Black'; font-size: 0.8rem; letter-spacing: 0.1em; color: rgba(255,255,255,0.5); }
        .table-brutal td { padding: 1rem 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .points-value { font-family: 'Archivo Black'; font-size: 1.25rem; color: #F45325; }
        
        /* Profile badges */
        .profile-badge { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 2px solid; font-family: 'Archivo Black'; font-size: 0.8rem; letter-spacing: 0.1em; }
        .profile-badge.achiever { border-color: #FFD700; color: #FFD700; }
        .profile-badge.explorer { border-color: #00CED1; color: #00CED1; }
        .profile-badge.socializer { border-color: #FF69B4; color: #FF69B4; }
        .profile-badge.killer { border-color: #DC143C; color: #DC143C; }
    </style>
</head>
<body>
    <!-- Loading -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">INITIALIZING GAMIFICATION PROTOCOL</div>
        <div class="loading-counter" id="loadingCounter">0</div>
        <div class="loading-bar"><div class="loading-bar-fill" id="loadingBarFill"></div></div>
    </div>
    
    <!-- Cursor -->
    <div class="cursor-main" id="cursorMain"></div>
    <div class="cursor-dot" id="cursorDot"></div>
    
    <!-- Transition -->
    <div class="transition-wipe" id="transitionWipe"></div>
    
    <!-- Effects -->
    <div class="noise"></div>
    <div class="scanlines"></div>
    <div class="grid-overlay"></div>
    <div class="grid-coords tl" id="coords">X:0 Y:0</div>
    <div class="grid-coords br">CTA+ PROTOCOL V4.0</div>
    
    <!-- Background -->
    <div class="fixed inset-0 z-0">
        <img src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=2072" alt="" class="w-full h-full object-cover opacity-10">
    </div>
    
    <!-- Content -->
    <div class="relative z-10 min-h-screen flex flex-col">
        
        <!-- Header -->
        <header class="border-b-2 border-white/10 p-6">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <img src="https://calltoactionplus.com/wp-content/uploads/2024/01/logo-cta-plus-white.png" alt="CTA+" class="h-6">
                <div class="text-xs tracking-[0.3em] text-white/30">GAMIFICATION WIZARD</div>
            </div>
        </header>
        
        <!-- Progress -->
        <div class="progress-brutal">
            <div class="progress-brutal-fill" id="progressBar" style="width: 25%"></div>
        </div>
        
        <!-- Marquee -->
        <div class="marquee-container">
            <div class="marquee">
                <div class="marquee-content">
                    <span class="marquee-item">GAMIFICATION <span>+</span></span>
                    <span class="marquee-item">STRATEGY <span>+</span></span>
                    <span class="marquee-item">BARTLE TEST <span>+</span></span>
                    <span class="marquee-item">ENGAGEMENT <span>+</span></span>
                    <span class="marquee-item">PERFORMANCE <span>+</span></span>
                </div>
                <div class="marquee-content">
                    <span class="marquee-item">GAMIFICATION <span>+</span></span>
                    <span class="marquee-item">STRATEGY <span>+</span></span>
                    <span class="marquee-item">BARTLE TEST <span>+</span></span>
                    <span class="marquee-item">ENGAGEMENT <span>+</span></span>
                    <span class="marquee-item">PERFORMANCE <span>+</span></span>
                </div>
            </div>
        </div>
        
        <!-- Main -->
        <main class="flex-1 py-16 px-6">
            <div class="max-w-6xl mx-auto">
                
                <!-- STEP 1: Category -->
                <div id="step1" class="step">
                    <h1 class="title-oversized title-outline animate-reveal glitch" data-text="SELECT">SELECT</h1>
                    <h1 class="title-oversized title-orange animate-reveal delay-1 glitch" data-text="CATEGORY">CATEGORY</h1>
                    <p class="text-white/40 text-lg my-12 max-w-xl animate-reveal delay-2">Choose the gamification type that best fits your company's needs.</p>
                    
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="card-brutal p-8 animate-reveal delay-3" data-category="empresarial" onclick="selectCategory('empresarial')">
                            <div class="number-giant">01</div>
                            <div class="relative z-10">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-4">CATEGORY_01</div>
                                <h3 class="font-archivo text-2xl mb-4">EMPRESARIAL</h3>
                                <p class="text-white/40 text-sm">Culture, productivity, engagement</p>
                            </div>
                        </div>
                        <div class="card-brutal p-8 animate-reveal delay-4" data-category="ventas" onclick="selectCategory('ventas')">
                            <div class="number-giant">02</div>
                            <div class="relative z-10">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-4">CATEGORY_02</div>
                                <h3 class="font-archivo text-2xl mb-4">VENTAS</h3>
                                <p class="text-white/40 text-sm">Goals, incentives, competition</p>
                            </div>
                        </div>
                        <div class="card-brutal p-8 animate-reveal delay-5" data-category="equipos" onclick="selectCategory('equipos')">
                            <div class="number-giant">03</div>
                            <div class="relative z-10">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-4">CATEGORY_03</div>
                                <h3 class="font-archivo text-2xl mb-4">EQUIPOS</h3>
                                <p class="text-white/40 text-sm">Team building, cohesion</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-16 flex justify-end animate-reveal delay-6">
                        <button class="btn-brutal" id="btnStep1" onclick="goToStep(2)" disabled>CONTINUE</button>
                    </div>
                </div>
                
                <!-- STEP 2: Bartle Test -->
                <div id="step2" class="step step-hidden">
                    <h1 class="title-oversized title-outline glitch" data-text="PLAYER">PLAYER</h1>
                    <h1 class="title-oversized title-orange glitch" data-text="PROFILE">PROFILE</h1>
                    <p class="text-white/40 text-lg my-12 max-w-xl">Answer 6 quick questions to identify your team's player profile based on Bartle's Taxonomy.</p>
                    
                    <div id="bartleContainer" class="space-y-8"></div>
                    
                    <div class="mt-16 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(1)">BACK</button>
                        <button class="btn-brutal" id="btnStep2" onclick="goToStep(3)" disabled>SEE PROFILE</button>
                    </div>
                </div>
                
                <!-- STEP 3: Profile Results + Radar -->
                <div id="step3" class="step step-hidden">
                    <h1 class="title-oversized title-outline glitch" data-text="TEAM">TEAM</h1>
                    <h1 class="title-oversized title-orange glitch" data-text="PROFILE">PROFILE</h1>
                    
                    <div class="grid md:grid-cols-2 gap-12 my-12">
                        <!-- Radar Chart -->
                        <div class="flex flex-col items-center justify-center">
                            <div class="radar-container">
                                <div class="radar-bg"></div>
                                <div class="radar-line h"></div>
                                <div class="radar-line v"></div>
                                <svg class="radar-shape" viewBox="0 0 300 300" id="radarShape">
                                    <polygon points="150,150 150,150 150,150 150,150" fill="rgba(244,83,37,0.2)" stroke="#F45325" stroke-width="2" id="radarPolygon"/>
                                </svg>
                                <div class="radar-point bg-achiever" id="pointAchiever" style="top:50%;left:50%;"></div>
                                <div class="radar-point bg-explorer" id="pointExplorer" style="top:50%;left:50%;"></div>
                                <div class="radar-point bg-socializer" id="pointSocializer" style="top:50%;left:50%;"></div>
                                <div class="radar-point bg-killer" id="pointKiller" style="top:50%;left:50%;"></div>
                                <div class="radar-label text-achiever" style="top:5%;left:50%;">ACHIEVER</div>
                                <div class="radar-label text-explorer" style="top:50%;left:95%;">EXPLORER</div>
                                <div class="radar-label text-socializer" style="top:95%;left:50%;">SOCIALIZER</div>
                                <div class="radar-label text-killer" style="top:50%;left:5%;">KILLER</div>
                            </div>
                        </div>
                        
                        <!-- Profile Description -->
                        <div>
                            <div class="mb-6">
                                <div class="text-xs tracking-[0.3em] text-white/30 mb-2">DOMINANT PROFILE</div>
                                <div class="font-archivo text-4xl" id="dominantProfile">ACHIEVER</div>
                            </div>
                            <div class="space-y-4 mb-8" id="profileScores"></div>
                            <div class="border-l-4 border-cta-orange pl-6">
                                <p class="text-white/60" id="profileDescription">Your team is motivated by goals, achievements and visible progress. They thrive with points, badges, leaderboards and clear milestones.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-12 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(2)">RETAKE TEST</button>
                        <button class="btn-brutal" onclick="goToStep(4)">CONTINUE TO DIAGNOSTIC</button>
                    </div>
                </div>
                
                <!-- STEP 4: Diagnostic Questions -->
                <div id="step4" class="step step-hidden">
                    <h1 class="title-oversized title-outline">DIAGNOSTIC</h1>
                    <h1 class="title-oversized title-orange" id="categoryTitle">EMPRESARIAL</h1>
                    <p class="text-white/40 text-lg my-12 max-w-xl">Answer the following questions to personalize your gamification plan.</p>
                    
                    <div id="questionsContainer" class="space-y-8"></div>
                    
                    <div class="mt-16 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(3)">BACK</button>
                        <button class="btn-brutal" id="btnStep4" onclick="goToStep(5)" disabled>GENERATE PLAN</button>
                    </div>
                </div>
                
                <!-- STEP 5: Results -->
                <div id="step5" class="step step-hidden">
                    <h1 class="title-oversized title-outline">YOUR</h1>
                    <h1 class="title-oversized title-orange glitch" data-text="PLAN">PLAN</h1>
                    
                    <div id="resultsContainer" class="space-y-8 mt-12"></div>
                    
                    <div class="mt-16 flex justify-between">
                        <button class="btn-ghost" onclick="goToStep(4)">MODIFY</button>
                        <button class="btn-brutal" onclick="downloadPlan()">DOWNLOAD PDF</button>
                    </div>
                </div>
                
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="border-t-2 border-white/10 p-6">
            <div class="max-w-7xl mx-auto flex items-center justify-between text-xs tracking-wider text-white/20">
                <span>2024 CTA+</span>
                <span>GAMIFICATION PROTOCOL V4.0</span>
            </div>
        </footer>
    </div>

    <script>
        // Loading
        let loadProg = 0;
        function updateLoad() {
            if (loadProg < 100) {
                loadProg += Math.random() * 15;
                if (loadProg > 100) loadProg = 100;
                document.getElementById('loadingCounter').textContent = Math.floor(loadProg);
                document.getElementById('loadingBarFill').style.width = loadProg + '%';
                setTimeout(updateLoad, 100 + Math.random() * 200);
            } else {
                setTimeout(() => document.getElementById('loadingScreen').classList.add('hidden'), 500);
            }
        }
        setTimeout(updateLoad, 500);
        
        // Cursor
        const cursorMain = document.getElementById('cursorMain');
        const cursorDot = document.getElementById('cursorDot');
        let mX = 0, mY = 0, cX = 0, cY = 0, dX = 0, dY = 0;
        document.addEventListener('mousemove', e => { mX = e.clientX; mY = e.clientY; document.getElementById('coords').textContent = `X:${mX} Y:${mY}`; });
        document.addEventListener('mousedown', () => cursorDot.classList.add('clicking'));
        document.addEventListener('mouseup', () => cursorDot.classList.remove('clicking'));
        function animCursor() {
            cX += (mX - cX) * 0.15; cY += (mY - cY) * 0.15;
            dX += (mX - dX) * 0.3; dY += (mY - dY) * 0.3;
            cursorMain.style.left = cX - 10 + 'px'; cursorMain.style.top = cY - 10 + 'px';
            cursorDot.style.left = dX - 4 + 'px'; cursorDot.style.top = dY - 4 + 'px';
            requestAnimationFrame(animCursor);
        }
        animCursor();
        
        // Data
        const bartleQuestions = [
            { q: "What motivates your team most?", options: [
                { text: "Completing goals and earning rewards", type: "achiever" },
                { text: "Learning new things and exploring", type: "explorer" },
                { text: "Collaborating and helping others", type: "socializer" },
                { text: "Competing and winning against others", type: "killer" }
            ]},
            { q: "In a game, your team would prefer to...", options: [
                { text: "Unlock all achievements and badges", type: "achiever" },
                { text: "Discover hidden areas and secrets", type: "explorer" },
                { text: "Chat and make friends with other players", type: "socializer" },
                { text: "Climb the leaderboard and beat rivals", type: "killer" }
            ]},
            { q: "The best reward for your team is...", options: [
                { text: "Points, badges, and visible progress", type: "achiever" },
                { text: "Access to new content or knowledge", type: "explorer" },
                { text: "Recognition from peers and team events", type: "socializer" },
                { text: "Prizes for top performers only", type: "killer" }
            ]},
            { q: "Your team feels successful when...", options: [
                { text: "They complete all tasks on the list", type: "achiever" },
                { text: "They learn something new every day", type: "explorer" },
                { text: "Everyone is happy and connected", type: "socializer" },
                { text: "They outperform other teams", type: "killer" }
            ]},
            { q: "In challenges, your team prefers...", options: [
                { text: "Clear objectives with measurable goals", type: "achiever" },
                { text: "Open-ended problems to figure out", type: "explorer" },
                { text: "Team activities where everyone participates", type: "socializer" },
                { text: "Head-to-head competitions", type: "killer" }
            ]},
            { q: "Your team's energy comes from...", options: [
                { text: "Checking things off and leveling up", type: "achiever" },
                { text: "Curiosity and new experiences", type: "explorer" },
                { text: "Positive interactions and teamwork", type: "socializer" },
                { text: "The thrill of winning", type: "killer" }
            ]}
        ];
        
        const questions = {
            empresarial: [
                { id: 'E1', q: 'How many employees?', type: 'number', ph: 'e.g. 50' },
                { id: 'E2', q: 'Main problem?', type: 'single', opts: ['High turnover', 'Low productivity', 'Bad climate', 'Lack of commitment', 'Poor communication'] },
                { id: 'E3', q: 'Behaviors to incentivize?', type: 'multi', opts: ['Punctuality', 'Collaboration', 'Initiative', 'Goal completion', 'Innovation', 'Learning'] },
                { id: 'E4', q: 'Budget for rewards?', type: 'single', opts: ['No budget', '$1-$500', '$500-$2000', '+$2000'] },
                { id: 'E5', q: 'Expected results timeline?', type: 'single', opts: ['1 month', '3 months', '6 months', '1 year'] }
            ],
            ventas: [
                { id: 'V1', q: 'How many salespeople?', type: 'number', ph: 'e.g. 15' },
                { id: 'V2', q: 'Average ticket?', type: 'number', ph: 'e.g. 500' },
                { id: 'V3', q: 'Monthly goal %?', type: 'single', opts: ['<25%', '25-50%', '50-75%', '75-100%', '+100%'] },
                { id: 'V4', q: 'Current compensation?', type: 'multi', opts: ['Fixed salary', 'Commission', 'Bonuses', 'Prizes', 'Recognition'] },
                { id: 'V5', q: 'Metric to improve?', type: 'single', opts: ['Volume', 'Ticket size', 'Retention', 'New clients', 'Upselling'] },
                { id: 'V6', q: 'Compete or collaborate?', type: 'single', opts: ['Individual competition', 'Team competition', 'Collaboration', 'Not sure'] }
            ],
            equipos: [
                { id: 'Q1', q: 'How many people?', type: 'number', ph: 'e.g. 30' },
                { id: 'Q2', q: 'Event type?', type: 'single', opts: ['Single event', 'Monthly', 'Quarterly', 'Annual'] },
                { id: 'Q3', q: 'Format?', type: 'single', opts: ['In-person', 'Virtual', 'Hybrid'] },
                { id: 'Q4', q: 'Main objective?', type: 'single', opts: ['Integration', 'Communication', 'Conflict resolution', 'Celebration', 'Fun'] },
                { id: 'Q5', q: 'Time available?', type: 'single', opts: ['2 hours', '4 hours', 'Full day', 'Multiple days'] }
            ]
        };
        
        const profileDescriptions = {
            achiever: "Your team is motivated by goals, achievements and visible progress. They thrive with points, badges, leaderboards and clear milestones.",
            explorer: "Your team loves discovery, learning and finding new ways to do things. They're energized by challenges, easter eggs and knowledge unlocks.",
            socializer: "Your team values connection, collaboration and helping each other. They perform best with team challenges, recognition and social features.",
            killer: "Your team is driven by competition and winning. They excel with leaderboards, tournaments, rankings and head-to-head challenges."
        };
        
        let selectedCategory = null;
        let bartleAnswers = [];
        let bartleScores = { achiever: 0, explorer: 0, socializer: 0, killer: 0 };
        let answers = {};
        
        function selectCategory(cat) {
            selectedCategory = cat;
            document.querySelectorAll('.card-brutal').forEach(c => c.classList.remove('selected'));
            document.querySelector(`[data-category="${cat}"]`).classList.add('selected');
            document.getElementById('btnStep1').disabled = false;
        }
        
        function goToStep(step) {
            const wipe = document.getElementById('transitionWipe');
            wipe.classList.add('active');
            
            setTimeout(() => {
                document.querySelectorAll('.step').forEach(s => s.classList.add('step-hidden'));
                document.getElementById(`step${step}`).classList.remove('step-hidden');
                document.getElementById('progressBar').style.width = `${(step / 5) * 100}%`;
                
                if (step === 2) renderBartle();
                if (step === 3) renderProfile();
                if (step === 4) renderQuestions();
                if (step === 5) generateResults();
                
                wipe.classList.remove('active');
                wipe.classList.add('exit');
                setTimeout(() => wipe.classList.remove('exit'), 500);
                window.scrollTo({ top: 0, behavior: 'instant' });
            }, 500);
        }
        
        function renderBartle() {
            const container = document.getElementById('bartleContainer');
            bartleAnswers = [];
            bartleScores = { achiever: 0, explorer: 0, socializer: 0, killer: 0 };
            
            let html = '';
            bartleQuestions.forEach((bq, i) => {
                html += `
                    <div class="border-3 border-white/10 p-8 animate-reveal delay-${i+1}" style="border-width:3px;">
                        <div class="flex items-start gap-6 mb-6">
                            <span class="font-archivo text-4xl text-cta-orange">${String(i+1).padStart(2,'0')}</span>
                            <h3 class="text-xl font-medium pt-2">${bq.q}</h3>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4 ml-16">
                            ${bq.options.map(opt => `
                                <button class="bartle-option" data-type="${opt.type}" data-q="${i}" onclick="selectBartle(${i}, '${opt.type}', this)">
                                    ${opt.text}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
            updateBartleBtn();
        }
        
        function selectBartle(qIndex, type, el) {
            el.parentElement.querySelectorAll('.bartle-option').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            bartleAnswers[qIndex] = type;
            updateBartleBtn();
        }
        
        function updateBartleBtn() {
            const answered = bartleAnswers.filter(a => a).length;
            document.getElementById('btnStep2').disabled = answered < bartleQuestions.length;
        }
        
        function renderProfile() {
            // Calculate scores
            bartleScores = { achiever: 0, explorer: 0, socializer: 0, killer: 0 };
            bartleAnswers.forEach(type => {
                if (type) bartleScores[type]++;
            });
            
            // Find dominant
            const total = bartleQuestions.length;
            const dominant = Object.entries(bartleScores).sort((a,b) => b[1] - a[1])[0][0];
            
            // Update UI
            document.getElementById('dominantProfile').textContent = dominant.toUpperCase();
            document.getElementById('dominantProfile').className = `font-archivo text-4xl text-${dominant}`;
            document.getElementById('profileDescription').textContent = profileDescriptions[dominant];
            
            // Scores display
            const scoresHtml = Object.entries(bartleScores).map(([type, score]) => {
                const pct = Math.round((score / total) * 100);
                return `
                    <div class="flex items-center gap-4">
                        <span class="profile-badge ${type}">${type.toUpperCase()}</span>
                        <div class="flex-1 h-2 bg-white/10">
                            <div class="h-full bg-${type}" style="width:${pct}%"></div>
                        </div>
                        <span class="font-archivo text-xl">${pct}%</span>
                    </div>
                `;
            }).join('');
            document.getElementById('profileScores').innerHTML = scoresHtml;
            
            // Animate radar
            setTimeout(() => animateRadar(), 300);
        }
        
        function animateRadar() {
            const total = bartleQuestions.length;
            const maxRadius = 130; // Max distance from center
            const center = 150;
            
            // Calculate positions (top, right, bottom, left)
            const achieverR = (bartleScores.achiever / total) * maxRadius;
            const explorerR = (bartleScores.explorer / total) * maxRadius;
            const socializerR = (bartleScores.socializer / total) * maxRadius;
            const killerR = (bartleScores.killer / total) * maxRadius;
            
            // Points: top (achiever), right (explorer), bottom (socializer), left (killer)
            document.getElementById('pointAchiever').style.top = `${((center - achieverR) / 300) * 100}%`;
            document.getElementById('pointAchiever').style.left = '50%';
            
            document.getElementById('pointExplorer').style.top = '50%';
            document.getElementById('pointExplorer').style.left = `${((center + explorerR) / 300) * 100}%`;
            
            document.getElementById('pointSocializer').style.top = `${((center + socializerR) / 300) * 100}%`;
            document.getElementById('pointSocializer').style.left = '50%';
            
            document.getElementById('pointKiller').style.top = '50%';
            document.getElementById('pointKiller').style.left = `${((center - killerR) / 300) * 100}%`;
            
            // Polygon
            const points = `${center},${center - achieverR} ${center + explorerR},${center} ${center},${center + socializerR} ${center - killerR},${center}`;
            document.getElementById('radarPolygon').setAttribute('points', points);
        }
        
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            const qs = questions[selectedCategory];
            const titles = { empresarial: 'EMPRESARIAL', ventas: 'VENTAS', equipos: 'EQUIPOS' };
            document.getElementById('categoryTitle').textContent = titles[selectedCategory];
            
            let html = '';
            qs.forEach((q, i) => {
                html += `
                    <div class="border-3 border-white/10 p-8 animate-reveal delay-${i+1}" style="border-width:3px;">
                        <div class="flex items-start gap-6 mb-6">
                            <span class="font-archivo text-4xl text-cta-orange">${String(i+1).padStart(2,'0')}</span>
                            <h3 class="text-xl font-medium pt-2">${q.q}</h3>
                        </div>
                        <div class="ml-16">${renderInput(q)}</div>
                    </div>
                `;
            });
            container.innerHTML = html;
            answers = {};
            updateStep4Btn();
        }
        
        function renderInput(q) {
            if (q.type === 'number') {
                return `<input type="number" id="${q.id}" placeholder="${q.ph}" onchange="updateAns('${q.id}', this.value)">`;
            } else if (q.type === 'single') {
                return `<div class="grid md:grid-cols-2 gap-4">${q.opts.map(o => `<button class="option-brutal" onclick="selOpt('${q.id}','${o}',this)">${o}</button>`).join('')}</div>`;
            } else {
                return `<div class="grid md:grid-cols-2 gap-4">${q.opts.map(o => `<button class="option-brutal" onclick="togMulti('${q.id}','${o}',this)">${o}</button>`).join('')}</div><p class="text-white/30 text-sm mt-4">Select multiple</p>`;
            }
        }
        
        function updateAns(id, v) { answers[id] = v; updateStep4Btn(); }
        function selOpt(id, v, el) {
            el.parentElement.querySelectorAll('.option-brutal').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            answers[id] = v;
            updateStep4Btn();
        }
        function togMulti(id, v, el) {
            el.classList.toggle('selected');
            if (!answers[id]) answers[id] = [];
            if (el.classList.contains('selected')) answers[id].push(v);
            else answers[id] = answers[id].filter(x => x !== v);
            updateStep4Btn();
        }
        
        function updateStep4Btn() {
            const req = questions[selectedCategory].length;
            const ans = Object.keys(answers).filter(k => answers[k] && (Array.isArray(answers[k]) ? answers[k].length > 0 : true)).length;
            document.getElementById('btnStep4').disabled = ans < req;
        }
        
        function generateResults() {
            const container = document.getElementById('resultsContainer');
            const dominant = Object.entries(bartleScores).sort((a,b) => b[1] - a[1])[0][0];
            
            container.innerHTML = `
                <!-- Profile Summary -->
                <div class="result-brutal" data-section="TEAM PROFILE">
                    <div class="flex items-center gap-6 mb-6">
                        <span class="profile-badge ${dominant}">${dominant.toUpperCase()}</span>
                        <span class="text-white/40">Dominant player type</span>
                    </div>
                    <p class="text-white/60">${profileDescriptions[dominant]}</p>
                </div>
                
                <!-- Metrics -->
                <div class="result-brutal" data-section="SUMMARY">
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="border-l-4 border-cta-orange pl-6">
                            <div class="text-white/30 text-sm mb-2">PARTICIPANTS</div>
                            <div class="font-archivo text-4xl">${getParticipants()}</div>
                        </div>
                        <div class="border-l-4 border-cta-orange pl-6">
                            <div class="text-white/30 text-sm mb-2">DURATION</div>
                            <div class="font-archivo text-4xl">${getDuration()}</div>
                        </div>
                        <div class="border-l-4 border-cta-orange pl-6">
                            <div class="text-white/30 text-sm mb-2">COMPLEXITY</div>
                            <div class="font-archivo text-4xl text-cta-orange">${getComplexity()}</div>
                        </div>
                    </div>
                </div>
                
                <!-- Mechanics based on profile -->
                <div class="result-brutal" data-section="RECOMMENDED MECHANICS">
                    <h3 class="font-archivo text-xl mb-6">Based on <span class="text-${dominant}">${dominant.toUpperCase()}</span> profile</h3>
                    <div class="grid md:grid-cols-2 gap-4">${getMechanicsForProfile(dominant)}</div>
                </div>
                
                <!-- Points System -->
                <div class="result-brutal" data-section="POINTS SYSTEM">
                    <h3 class="font-archivo text-xl mb-6">POINTS SYSTEM</h3>
                    <table class="table-brutal">
                        <thead><tr><th>ACTION</th><th class="text-right">POINTS</th></tr></thead>
                        <tbody>${getPointsTable()}</tbody>
                    </table>
                </div>
                
                <!-- Rewards -->
                <div class="result-brutal" data-section="REWARDS">
                    <h3 class="font-archivo text-xl mb-6">SUGGESTED REWARDS</h3>
                    <div class="space-y-3">${getRewards(dominant)}</div>
                </div>
                
                <!-- CTA -->
                <div class="border-4 border-cta-orange p-12 text-center">
                    <h3 class="font-archivo text-3xl mb-4">READY TO IMPLEMENT?</h3>
                    <p class="text-white/40 mb-8">Schedule a session with our team to bring this plan to reality.</p>
                    <a href="https://calltoactionplus.com" target="_blank" class="btn-brutal inline-block">CONTACT CTA+</a>
                </div>
            `;
            
            setTimeout(() => {
                document.querySelectorAll('.result-brutal').forEach((el, i) => {
                    setTimeout(() => el.classList.add('visible'), i * 150);
                });
            }, 300);
        }
        
        function getParticipants() { return answers['E1'] || answers['V1'] || answers['Q1'] || 'N/A'; }
        function getDuration() { return answers['E5'] || answers['Q5'] || '3M'; }
        function getComplexity() { const p = parseInt(getParticipants()) || 0; return p < 20 ? 'LOW' : p < 50 ? 'MED' : 'HIGH'; }
        
        function getMechanicsForProfile(profile) {
            const mechanics = {
                achiever: [
                    { name: 'Points System', desc: 'Clear point accumulation for every action' },
                    { name: 'Badge Collection', desc: 'Unlockable achievements for milestones' },
                    { name: 'Progress Bars', desc: 'Visual completion tracking' },
                    { name: 'Levels & XP', desc: 'Clear progression path with rewards' }
                ],
                explorer: [
                    { name: 'Easter Eggs', desc: 'Hidden rewards for curious team members' },
                    { name: 'Knowledge Unlocks', desc: 'New content as rewards' },
                    { name: 'Mystery Challenges', desc: 'Open-ended problem solving' },
                    { name: 'Discovery Quests', desc: 'Exploration-based missions' }
                ],
                socializer: [
                    { name: 'Team Challenges', desc: 'Group missions with shared rewards' },
                    { name: 'Peer Recognition', desc: 'Give kudos to colleagues' },
                    { name: 'Collaboration Bonuses', desc: 'Extra points for helping others' },
                    { name: 'Social Events', desc: 'Team activities and celebrations' }
                ],
                killer: [
                    { name: 'Leaderboards', desc: 'Real-time competitive rankings' },
                    { name: 'Tournaments', desc: 'Weekly/monthly competitions' },
                    { name: 'Head-to-Head', desc: 'Direct challenges between members' },
                    { name: 'Winner Takes All', desc: 'Premium rewards for top performers' }
                ]
            };
            
            return mechanics[profile].map(m => `
                <div class="border-2 border-white/10 p-4 hover:border-${profile} transition-colors">
                    <div class="font-bold mb-2">${m.name}</div>
                    <div class="text-white/40 text-sm">${m.desc}</div>
                </div>
            `).join('');
        }
        
        function getPointsTable() {
            const tables = {
                empresarial: [['On time arrival', 10], ['Complete task', 25], ['Help colleague', 15], ['Propose improvement', 100]],
                ventas: [['Call made', 5], ['Meeting scheduled', 20], ['Proposal sent', 30], ['Sale closed', 100]],
                equipos: [['Participate', 10], ['Complete challenge', 50], ['Win competition', 100]]
            };
            return (tables[selectedCategory] || tables.empresarial).map(([a, p]) => 
                `<tr><td>${a}</td><td class="text-right"><span class="points-value">+${p}</span></td></tr>`
            ).join('');
        }
        
        function getRewards(profile) {
            const rewards = {
                achiever: ['Exclusive badges', 'Premium status', 'Extra day off', 'Gift vouchers', 'Certificate of achievement'],
                explorer: ['Learning courses', 'Conference tickets', 'Book allowance', 'Innovation lab access', 'Mentorship sessions'],
                socializer: ['Team dinner', 'Group outing', 'Public recognition', 'Team party budget', 'Social event hosting'],
                killer: ['Top performer trophy', 'Championship belt', 'Premium parking spot', 'Executive lunch', 'Winner jacket']
            };
            return rewards[profile].map(r => `
                <div class="flex items-center gap-4 border-2 border-white/10 p-4 hover:border-cta-orange hover:translate-x-2 transition-all">
                    <span class="text-cta-orange font-archivo">+</span>
                    <span>${r}</span>
                </div>
            `).join('');
        }
        
        function downloadPlan() { alert('PDF download coming soon. Contact CTA+ for your complete plan.'); }
    </script>
</body>
</html>
